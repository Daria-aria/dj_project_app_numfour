{% extends 'base.html' %}
{% load static %}
{% load crispy_forms_tags %}


{% block content %}
<div class="content-section col-lg-12 col-md-12 col-sm-12 tutorial-style" style="min-height:65vh;">
    <div class="media">
        {% csrf_token %}
        <img class="rounded-circle account-img" src="{{ user_form.instance.userpic.url }}" alt="User picture" style="width:100%;max-width:200px">
        <div class="media-body">
            <h2 class="mt-0"><strong>{{ user_form.instance.username }}</strong>'s profile</h2>
            <h5>{{ user_form.instance.user }}</h5>
            <div class="form-group">
                <button onclick="#" class='btn btn-outline-info'>Some button</button>
            </div>
            <hr>
            <h5 class="account-heading">What {{ user_form.instance.username }} tells about him/her self</h5>
            <hr>
            <div>
                <label class="small mb-0">Date of birth: </label>
                <p>{{ user_form.instance.date_of_birth }}</p>
            </div>
            <div>
                <label class="small mb-0">Interest (writer/follower/critic): </label>
                <p>{{ user_form.instance.statusType }}</p>
            </div>
            <div>
                <label class="small mb-0">Bio: </label>
                <p>{{ user_form.instance.bio }}</p>
            </div>
            <hr>
            <div>
                <label class="small mb-0">Befriended with: </label>
                <p><span class="heading">{{ user_form.instance.friends.count }}</span>
                     Friend(s)</p>
            </div>
            <div>
                <label class="small mb-0">What {{ user_form.instance.username }} posted so far: </label>
                <p><span class="heading">
                    <a href="{% url 'user_posts' user_form.instance.user %}"
                        >{{ post_count }} Post(s)</span></a>
                </p>
            </div>
        </div>


        <div class="media">
        {% if button_status == 'not_friend' %}
              <small
                ><a
                  class="btn btn-primary"
                  href="/friend-request/send/{{ u.id }}"
                  >Add Friend</a
                ></small
              >
              {% elif button_status == 'friend_request_sent' %}
              <small
                ><a
                  class="btn btn-warning"
                  href="/friend-request/cancel/{{ u.id }}"
                  >Cancel Request</a
                ></small
              >
              {% elif button_status == 'friend_request_received' %}
<!--              <small-->
<!--                ><a-->
<!--                  class="btn btn-success mr-2"-->
<!--                  href="/friend-request/accept/{{ u.id }}"-->
<!--                  >Accept Request</a-->
<!--                ></small-->
<!--              >-->
              <small
                ><a
                  class="btn btn-danger"
                  href="/friend-request/delete/{{ u.id }}"
                  >Reject Request</a
                ></small
              >
              {% else %}
              <small
                ><a
                  class="btn btn-danger"
                  href="friend/delete/{{ user.id }}"
                  >UnFriend</a
                ></small
              >
              {% endif %}
        </div>


    </div>
</div>

{% endblock content %}